function getnumString(t){var n;return 1e3>t?n=t:1e4>t?n=t.charAt(0)+","+t.substring(1):1e6>t?n=Math.round(t/1e3*10)/10+"k":1e9>t?n=Math.round(t/1e6*10)/10+"M":t>1e9&&(n=Math.round(t/1e6*10)/10+"B"),n.toString()}var fbCount,twCount,totalCount,urlDebug="http://www.google.com",urlCurrent=window.location.href,twitterCountUrl="http://urls.api.twitter.com/1/urls/count.json?url="+urlCurrent+"&callback=?",facebookCountUrl="https://graph.facebook.com/fql?q=SELECT%20share_count,%20like_count,%20comment_count,%20total_count,commentsbox_count,%20comments_fbid,%20click_count%20FROM%20link_stat%20WHERE%20url=%27"+urlCurrent+"%27",fbShareUrl="https://www.facebook.com/sharer/sharer.php?u="+urlCurrent+"&t="+document.title,twShareUrl="https://twitter.com/intent/tweet?text="+document.title+"url="+urlCurrent;$("#social li").on("click touchstart",".sharelink",function(t){return t.preventDefault(),window.open($(this).attr("href"),"_blank"),!1}),$("#social li").on("keypress",function(t){return 13===t.which&&$(this).children(".sharelink").length?(t.preventDefault(),window.open($(this).children(".sharelink").attr("href"),"_blank"),!1):void 0}),$.when($.getJSON(twitterCountUrl,function(t){twCount=t.count,$(".twitter").append('<p class="num">'+getnumString(twCount)+"</p>")}),$.getJSON(facebookCountUrl,function(t){fbCount=t.data[0].like_count,$(".facebook").append('<p class="num">'+getnumString(fbCount)+"</p>")})).done(function(){totalCount=fbCount+twCount,$(".share").append('<p class="num">'+getnumString(totalCount)+"</p>")}),$("#social ul").on("mouseover touchstart focusin",function(){$(".facebook, .twitter").slideDown("slow").attr("aria-hidden","false")}).on("mouseleave focusout",function(){$(".facebook, .twitter").hide().attr("aria-hidden","true")}),$(".share").on("touchend",function(){$(".facebook, .twitter").hide().$(".facebook, .twitter").attr("aria-hidden","true")}),$("#social .twitter").on("mouseenter touchmove",function(){$(this).html('<a  class="sharelink" href="'+twShareUrl+'">TWEET<br>LINK</a>')}).on("mouseleave touchcancel touchend",function(){$(this).html("<p> tweets</p>").append('<p class="num">'+getnumString(twCount)+"</p>")}).on("keyup",function(t){9===t.which&&(t.preventDefault(),$(this).html('<a  class="sharelink" href="'+twShareUrl+'">TWEET<br>LINK</a>'))}).on("keydown",function(t){9===t.which&&$(this).children(".sharelink").length&&$(this).html("<p> tweets</p>").append('<p class="num">'+getnumString(twCount)+"</p>")}),$("#social .facebook").on("mouseenter touchmove",function(){$(this).html('<a  class="sharelink"  href="'+fbShareUrl+'">SHARE<BR>ON FB</a>')}).on("mouseleave touchcancel touchend",function(){$(this).html("<p>likes</p>").append('<p class="num">'+getnumString(fbCount)+"</p>")}).on("keyup",function(t){9===t.which&&(t.preventDefault(),$(this).html('<a  class="sharelink"  href="'+fbShareUrl+'">SHARE<BR>ON FB</a>'))}).on("keydown",function(t){9===t.which&&$(this).children(".sharelink").length&&$(this).html("<p>likes</p>").append('<p class="num">'+getnumString(fbCount)+"</p>")});